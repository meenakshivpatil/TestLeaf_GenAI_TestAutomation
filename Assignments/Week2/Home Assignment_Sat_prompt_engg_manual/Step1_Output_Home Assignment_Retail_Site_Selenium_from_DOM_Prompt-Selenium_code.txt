package test;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;

import java.util.List;

public class SecondTest {

    public static void main(String[] args) {
        // Set path to ChromeDriver executable
        //System.setProperty("webdriver.chrome.driver", "/path/to/chromedriver");

        WebDriver driver = new ChromeDriver();

        try {
            // 1. Open Blinkit
            driver.get("https://blinkit.com/");
            driver.manage().window().maximize();

            // 2. Pause to let the location modal load
            Thread.sleep(3000);  // Sleep for 3 seconds

            // 3. Find the input field and type "chinchawad"
            WebElement locationInput = driver.findElement(By.cssSelector("input[placeholder='search delivery location']"));
            locationInput.sendKeys("chinchawad");

            // 4. Wait for suggestions to load
            Thread.sleep(2000);  // Sleep for 2 seconds

            // 5. Find all suggested location items
            List<WebElement> locationItems = driver.findElements(
                By.className("LocationSearchList__LocationListContainer-sc-93rfr7-0")
            );

            // 6. Loop through and click "Chinchwad Gaon"
            for (WebElement item : locationItems) {
                String label = item.findElement(
                    By.className("LocationSearchList__LocationLabel-sc-93rfr7-2")
                ).getText();

                if (label.equalsIgnoreCase("Chinchwad Gaon")) {
                    item.click();
                    System.out.println("Selected location: " + label);
                    break;
                }
            }

            // 7. Wait to observe result (optional)
            Thread.sleep(3000);

        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            // Close the browser
            driver.quit();
        }
    }
}
